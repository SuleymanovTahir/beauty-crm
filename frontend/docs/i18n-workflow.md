# i18n Workflow - Краткая инструкция

## Когда запускать команды

### `npm run i18n:extract`
**Запускать ТОЛЬКО когда:**
- Вы добавили новый `t('ключ')` в код
- Вы изменили namespace в `useTranslation(['новый_namespace'])`

**НЕ запускать:**
- Просто так для проверки
- После каждого изменения кода
- Если вы только исправляете переводы в JSON файлах

**Что делает:**
- Сканирует весь код на наличие `t('ключ')`
- **Пересоздает все JSON файлы** (удаляет старые, создает новые)
- Создает дубликаты, которые потом удаляются (это нормально)
- Сообщение "Удалено 243 файлов" - это **нормально**, не пугайтесь

### `npm run i18n:sync`
**Запускать:**
- После `i18n:extract`
- Когда вы вручную добавили ключи в `ru/*.json`
- Когда хотите обновить переводы

**Что делает:**
- Переводит пустые ключи с русского на все языки
- Если ключ пустой в русском, генерирует текст из названия ключа

### `npm run i18n:check`
**Запускать:**
- Для проверки что все переводы на месте
- Перед коммитом в git

**Что делает:**
- Проверяет что нет пустых значений
- Проверяет что нет отсутствующих ключей

## Типичный workflow

### Добавили новый ключ в код
```bash
# 1. Добавили t('new_feature') в компонент
# 2. Запускаем extract
npm run i18n:extract

# 3. Переводим
npm run i18n:sync

# 4. Проверяем
npm run i18n:check
```

### Исправили перевод в JSON
```bash
# 1. Отредактировали ru/common.json
# 2. Синхронизируем с другими языками
npm run i18n:sync

# 3. Проверяем
npm run i18n:check
```

### Просто проверка
```bash
# Только проверка, без изменений
npm run i18n:check
```

## Важно

- ✅ `i18n:extract` создает дубликаты - это нормально
- ✅ Сообщение "Удалено 243 файлов" - это нормально
- ✅ Сообщение "Исправлено 53 файлов" - это нормально
- ❌ НЕ запускайте `i18n:extract` без необходимости
- ❌ НЕ редактируйте JSON файлы других языков вручную (только `ru/`)
