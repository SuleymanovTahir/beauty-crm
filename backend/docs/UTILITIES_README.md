# –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö Beauty CRM.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

```
backend/
  scripts/
    bot/                    # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –±–æ—Ç–∞
      fill_bot_settings.py
      BOT_SETTINGS_README.md
    database/               # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
      check_db.py
    testing/                # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
      setup_test_notifications.py
  docs/                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    UTILITIES_README.md
```

## üìã –°–ø–∏—Å–æ–∫ —É—Ç–∏–ª–∏—Ç

### 1. scripts/bot/fill_bot_settings.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `scripts/bot/fill_bot_settings.py`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª–µ–π
python scripts/bot/fill_bot_settings.py --check

# –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—É—Å—Ç—ã–µ –ø–æ–ª—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
python scripts/bot/fill_bot_settings.py

# –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –≤—Å–µ –ø–æ–ª—è
python scripts/bot/fill_bot_settings.py --force
```

**–ó–∞–ø–æ–ª–Ω—è–µ–º—ã–µ –ø–æ–ª—è:**
- price_explanation - –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
- objection_handling - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π
- negative_handling - —Ä–∞–±–æ—Ç–∞ —Å –Ω–µ–¥–æ–≤–æ–ª—å–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- example_dialogues - –ø—Ä–∏–º–µ—Ä—ã –¥–∏–∞–ª–æ–≥–æ–≤
- context_memory - –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å
- avoid_repetition - –∏–∑–±–µ–≥–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π
- conversation_flow_rules - –ø—Ä–∞–≤–∏–ª–∞ –≤–µ–¥–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
- personality_adaptations - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞
- smart_objection_detection - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π

---

### 2. scripts/database/check_db.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `scripts/database/check_db.py`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
python scripts/database/check_db.py
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–Ω–∞–ª–∏—á–∏–µ email, –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏—è)
- ‚úÖ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (–∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ (9 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π)
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü–µ

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
================================================================================
üîç –ü–†–û–í–ï–†–ö–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•
================================================================================

üìã –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò:
–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 8
–° –¥–∞—Ç–æ–π —Ä–æ–∂–¥–µ–Ω–∏—è: 1
‚ö†Ô∏è  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ë–ï–ó email: 4

ü§ñ –ù–ê–°–¢–†–û–ô–ö–ò –ë–û–¢–ê:
–ó–∞–ø–æ–ª–Ω–µ–Ω–æ: 9/9
‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

üìä –¢–ê–ë–õ–ò–¶–´:
–ù–∞–π–¥–µ–Ω–æ —Ç–∞–±–ª–∏—Ü: 10/10
```

---

### 3. scripts/testing/setup_test_notifications.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `scripts/testing/setup_test_notifications.py`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è –Ω–∞ –∑–∞–≤—Ç—Ä–∞
python scripts/testing/setup_test_notifications.py --email your@email.com

# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ 3 –¥–Ω—è
python scripts/testing/setup_test_notifications.py --email your@email.com --days 3
```

**–ß—Ç–æ —Å–æ–∑–¥–∞–µ—Ç:**
- üë§ –¢–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç —Å –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è
- üë• –¢–µ—Å—Ç–æ–≤—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ —Å –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è
- üìÖ –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ (2 —à—Ç)
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ –∑–∞–ø–∏—Å—è—Ö
  - –ó–∞ 24 —á–∞—Å–∞
  - –ó–∞ 2 —á–∞—Å–∞

**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ email
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏—è:
   ```bash
   python -m scheduler.birthday_checker
   ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:
   ```bash
   python -m scheduler.booking_reminder_checker
   ```

---

## üîÑ –¢–∏–ø–∏—á–Ω—ã–π workflow

### –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
python -m db.migrations.run_all_migrations

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑—É
python scripts/database/check_db.py

# 3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
python scripts/bot/fill_bot_settings.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
```bash
# 1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
python scripts/testing/setup_test_notifications.py --email your@email.com

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω—ã
python scripts/database/check_db.py

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏
python -m scheduler.birthday_checker
python -m scheduler.booking_reminder_checker
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
python scripts/bot/fill_bot_settings.py --check

# 2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—É—Å—Ç—ã–µ –ø–æ–ª—è
python scripts/bot/fill_bot_settings.py

# 3. –ò–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –≤—Å–µ
python scripts/bot/fill_bot_settings.py --force
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å `salon_bot.db` –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
2. **Email:** –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π email –∞–¥—Ä–µ—Å
3. **–í—Ä–µ–º—è:** –¢–µ—Å—Ç–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –≤–ø–µ—Ä–µ–¥
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (–∫—Ä–æ–º–µ --force)

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `scripts/bot/BOT_SETTINGS_README.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ fill_bot_settings.py
- `db/migrations/README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏—è–º

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "Database not found"
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ backend
cd /path/to/beauty-crm/backend
```

### –ü—É—Å—Ç—ã–µ –ø–æ–ª—è –±–æ—Ç–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é
python scripts/bot/fill_bot_settings.py
```

### –ù–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
python scripts/database/check_db.py

# 2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ email –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
python scripts/testing/setup_test_notifications.py --email correct@email.com

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP –≤ .env —Ñ–∞–π–ª–µ
```
