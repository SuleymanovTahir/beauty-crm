# üóÑÔ∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∫–æ–≥–¥–∞:
- –í—ã —É–¥–∞–ª–∏–ª–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (`salon_bot.db`)
- –•–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å —Å —á–∏—Å—Ç–æ–π –±–∞–∑—ã
- –ù—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–∞–Ω–Ω—ã–µ

## ‚ö†Ô∏è –í–ê–ñ–ù–û

**–í–°–ï–ì–î–ê –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —ç—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞!**

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω uvicorn)

# 2. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é –±–∞–∑—É (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
rm salon_bot.db

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
python3 scripts/init_fresh_database.py

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å–Ω–æ–≤–∞
python3 -m uvicorn main:app --reload
```

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. ‚úÖ –°–æ–∑–¥–∞–µ—Ç –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î (`init_database()`)
2. ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏
3. ‚úÖ –°–≤—è–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
4. ‚úÖ –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –ø–ª–∞–Ω–æ–≤ –∏ –∏–Ω–¥–µ–∫—Å—ã
5. ‚úÖ –ó–∞–ø–æ–ª–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ (21 –ø–æ–ª–µ)
6. ‚úÖ –ó–∞–ø–æ–ª–Ω—è–µ—Ç —É—Å–ª—É–≥–∏ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (Mestan, Simo, Lyazzat, Gulya)

## –ü–æ—á–µ–º—É –º–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ main.py?

–í `main.py` —Å—Ç—Ä–æ–∫–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã:
```python
# from db.migrations.run_all_migrations import run_all_migrations
# from scripts.run_all_fixes import main as run_all_fixes
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ `database is locked`, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- FastAPI –¥–µ—Ä–∂–∏—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—ã—Ç–∞—é—Ç—Å—è –ø–∏—Å–∞—Ç—å –≤ –ë–î –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- SQLite –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∏—Å–∞—Ç–µ–ª–∏

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —á–∞—Å—Ç–∏:

```bash
# –¢–æ–ª—å–∫–æ –º–∏–≥—Ä–∞—Ü–∏–∏
python3 -c "from db.migrations.run_all_migrations import run_all_migrations; run_all_migrations()"

# –¢–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
python3 scripts/populate_bot_settings.py

# –¢–æ–ª—å–∫–æ —É—Å–ª—É–≥–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
python3 scripts/seed_employee_services.py
```

## Troubleshooting

### –û—à–∏–±–∫–∞ "database is locked"
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ó–∞–∫—Ä–æ–π—Ç–µ –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

### –û—à–∏–±–∫–∞ "table already exists"
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã
- –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã

### –ü—É—Å—Ç—ã–µ –ø–æ–ª—è –≤ bot_settings
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `python3 scripts/populate_bot_settings.py`
