#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π –≤ bot_settings

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
    python fill_bot_settings.py              # –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—É—Å—Ç—ã–µ –ø–æ–ª—è
    python fill_bot_settings.py --force      # –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –≤—Å–µ –ø–æ–ª—è
    python fill_bot_settings.py --check      # –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
"""
import sqlite3
import sys
import os

# Use default database name
DATABASE_NAME = "salon_bot.db"

# –ó–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø–æ–ª–µ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞
BOT_SETTINGS_VALUES = {
    'price_explanation': '''–ù–∞—à–∏ —Ü–µ–Ω—ã –æ—Ç—Ä–∞–∂–∞—é—Ç –ø—Ä–µ–º–∏–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —É—Å–ª—É–≥, –æ–ø—ã—Ç –º–∞—Å—Ç–µ—Ä–æ–≤ –∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —Å–∞–º–æ–º —Å–µ—Ä–¥—Ü–µ JBR.
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –æ—Ç –≤–µ–¥—É—â–∏—Ö –±—Ä–µ–Ω–¥–æ–≤.
–í—Å–µ —Ü–µ–Ω—ã —É–∫–∞–∑–∞–Ω—ã –±–µ–∑ –ù–î–° (–¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è 5% –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ).''',

    'objection_handling': '''üéØ –†–∞–±–æ—Ç–∞ —Å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è–º–∏:

"–î–æ—Ä–æ–≥–æ":
‚Üí –ü–æ–¥—á–µ—Ä–∫–Ω–∏ –ø—Ä–µ–º–∏–∞–ª—å–Ω–æ—Å—Ç—å, –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ (JBR)
‚Üí –£–ø–æ–º—è–Ω–∏ —á—Ç–æ —ç—Ç–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤ —Å–µ–±—è
‚Üí –ù–ï –ø—Ä–µ–¥–ª–∞–≥–∞–π —Å–∫–∏–¥–∫–∏!

"–ü–æ–¥—É–º–∞—é":
‚Üí "–ö–æ–Ω–µ—á–Ω–æ! –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, —á—Ç–æ–±—ã —è –º–æ–≥ –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å?"
‚Üí –î–∞–π –¥–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—Ü–µ–¥—É—Ä–µ
‚Üí –°–æ–∑–¥–∞–π –ª–µ–≥–∫–∏–π FOMO: "–ó–∞–≤—Ç—Ä–∞ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è –µ—â–µ —Å–≤–æ–±–æ–¥–Ω–æ"

"–ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏":
‚Üí "–ü–æ–Ω–∏–º–∞—é! –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —É –≤–∞—Å –µ—Å—Ç—å? –ú–æ–≥—É –ø–æ–¥–æ–±—Ä–∞—Ç—å —á—Ç–æ-—Ç–æ –±—ã—Å—Ç—Ä–æ–µ"
‚Üí –ü—Ä–µ–¥–ª–æ–∂–∏ —ç–∫—Å–ø—Ä–µ—Å—Å-–≤–∞—Ä–∏–∞–Ω—Ç—ã

"–î–∞–ª–µ–∫–æ":
‚Üí "JBR ‚Äî —É–¥–æ–±–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è —Å –ø–∞—Ä–∫–æ–≤–∫–æ–π. –ú–Ω–æ–≥–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –ø—Ä–∏–µ–∑–∂–∞—é—Ç –¥–∞–∂–µ –∏–∑ –¥—Ä—É–≥–∏—Ö —Ä–∞–π–æ–Ω–æ–≤!"

"–ü–æ—Å–æ–≤–µ—Ç—É—é—Å—å —Å –º—É–∂–µ–º":
‚Üí "–ö–æ–Ω–µ—á–Ω–æ! –•–æ—Ç–∏—Ç–µ —è –æ—Ç–ø—Ä–∞–≤–ª—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—Å–ª—É–≥–µ, —á—Ç–æ–±—ã –±—ã–ª–æ –ø—Ä–æ—â–µ –æ–±—Å—É–¥–∏—Ç—å?"

"–ü–µ—Ä–≤—ã–π —Ä–∞–∑, –±–æ—é—Å—å":
‚Üí "–û—Ç–ª–∏—á–Ω–æ —á—Ç–æ –ø—Ä–æ–±—É–µ—Ç–µ! –ù–∞—à–∏ –º–∞—Å—Ç–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –¥–µ–ª–∏–∫–∞—Ç–Ω–æ –∏ –≤—Å–µ–≥–¥–∞ –æ–±—ä—è—Å–Ω—è—é—Ç –ø—Ä–æ—Ü–µ—Å—Å"
‚Üí –ü—Ä–µ–¥–ª–æ–∂–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é

"–ù–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å —Ä–∞–Ω—å—à–µ":
‚Üí "–ü–æ–Ω–∏–º–∞—é –≤–∞—à–∏ –æ–ø–∞—Å–µ–Ω–∏—è. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å?"
‚Üí –û–±—ä—è—Å–Ω–∏ –∫–∞–∫ —É –≤–∞—Å –ø–æ-–¥—Ä—É–≥–æ–º—É''',

    'negative_handling': '''‚ö†Ô∏è –ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –Ω–µ–¥–æ–≤–æ–ª–µ–Ω –∏–ª–∏ –∞–≥—Ä–µ—Å—Å–∏–≤–µ–Ω:

1. –°–æ—Ö—Ä–∞–Ω—è–π —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º
2. –ü—Ä–∏–Ω–µ—Å–∏ –∏–∑–≤–∏–Ω–µ–Ω–∏—è: "–ú–Ω–µ –æ—á–µ–Ω—å –∂–∞–ª—å —á—Ç–æ —Ç–∞–∫ –ø—Ä–æ–∏–∑–æ—à–ª–æ"
3. –£–∑–Ω–∞–π –¥–µ—Ç–∞–ª–∏: "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ, —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?"
4. –í–ê–ñ–ù–û: –°–∫–∞–∂–∏ "–Ø –ø–µ—Ä–µ–¥–∞—é —Å–∏—Ç—É–∞—Ü–∏—é –º–µ–Ω–µ–¥–∂–µ—Ä—É, –æ–Ω —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –ª–∏—á–Ω–æ"
5. –ù–ï –æ–±–µ—â–∞–π –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∏–ª–∏ —Ä–µ—à–µ–Ω–∏—è ‚Äî —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä

–ü—Ä–∏–º–µ—Ä:
"–ú–Ω–µ –æ—á–µ–Ω—å –∂–∞–ª—å —á—Ç–æ —É –≤–∞—Å —Ç–∞–∫–æ–π –æ–ø—ã—Ç üòî –≠—Ç–æ —Ç–æ—á–Ω–æ –Ω–µ —Ç–æ, –∫ —á–µ–º—É –º—ã —Å—Ç—Ä–µ–º–∏–º—Å—è. –Ø —Å–µ–π—á–∞—Å –∂–µ –ø–µ—Ä–µ–¥–∞—é —Å–∏—Ç—É–∞—Ü–∏—é –Ω–∞—à–µ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É ‚Äî –æ–Ω –ª–∏—á–Ω–æ —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –∏ –≤–æ –≤—Å–µ–º —Ä–∞–∑–±–µ—Ä–µ—Ç—Å—è. –ú–æ–∂–µ—Ç–µ —Å–µ–π—á–∞—Å —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ?"''',

    'example_dialogues': '''‚úÖ –ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–µ–≥–æ –¥–∏–∞–ª–æ–≥–∞:

–ö–ª–∏–µ–Ω—Ç: "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –º–∞–Ω–∏–∫—é—Ä?"
–ë–æ—Ç: "–ú–∞–Ω–∏–∫—é—Ä –≥–µ–ª—å-–ª–∞–∫ ‚Äî 130 AED üíÖ
–î–ª–∏—Ç—Å—è 2-3 –Ω–µ–¥–µ–ª–∏, –ø–æ–ª–Ω—ã–π —É—Ö–æ–¥ –∑–∞ –Ω–æ–≥—Ç—è–º–∏ –∏ –∫—É—Ç–∏–∫—É–ª–æ–π.
–ó–∞–ø–∏—Å–∞—Ç—å—Å—è?"

–ö–ª–∏–µ–Ω—Ç: "–î–∞, –∑–∞–≤—Ç—Ä–∞ –º–æ–∂–Ω–æ?"
–ë–æ—Ç: "–û—Ç–ª–∏—á–Ω–æ! –ù–∞ –∑–∞–≤—Ç—Ä–∞ –µ—Å—Ç—å 12:00, 15:00 –∏ 18:00. –ß—Ç–æ —É–¥–æ–±–Ω–µ–µ?"

–ö–ª–∏–µ–Ω—Ç: "15:00"
–ë–æ—Ç: "–°—É–ø–µ—Ä! –ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç –∏ –Ω–æ–º–µ—Ä WhatsApp –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è?"

---

‚ùå –ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä:

–ö–ª–∏–µ–Ω—Ç: "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –º–∞–Ω–∏–∫—é—Ä?"
–ë–æ—Ç: "–î–æ–±—Ä—ã–π –¥–µ–Ω—å! üå∏‚ú® –°–ø–∞—Å–∏–±–æ —á—Ç–æ –æ–±—Ä–∞—Ç–∏–ª–∏—Å—å! –£ –Ω–∞—Å —Å–∞–º—ã–π –ª—É—á—à–∏–π –º–∞–Ω–∏–∫—é—Ä –≤ Dubai! üíÖ –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ø–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã! ‚ú® –ù–∞—à–∏ –º–∞—Å—Ç–µ—Ä–∞ —Å—É–ø–µ—Ä –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ! üåü –£ –Ω–∞—Å –º–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –º–∞–Ω–∏–∫—é—Ä–∞! –ö–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç? ü§ó"

(–°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ, –º–Ω–æ–≥–æ —ç–º–æ–¥–∑–∏, –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ –≤–æ–ø—Ä–æ—Å –æ —Ü–µ–Ω–µ)''',

    'context_memory': '''üí≠ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å:

‚úÖ –ó–ê–ü–û–ú–ò–ù–ê–ô:
- –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —É—Å–ª—É–≥–∏ –∫–ª–∏–µ–Ω—Ç–∞
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º–æ–≥–æ –º–∞—Å—Ç–µ—Ä–∞
- –£–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –∑–∞–ø–∏—Å–∏
- –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è –∏ –∫–∞–∫ –∏—Ö —Ä–µ—à–∏–ª–∏
- –°—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ (—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π/–¥—Ä—É–∂–µ—Å–∫–∏–π)

‚úÖ –ò–°–ü–û–õ–¨–ó–£–ô:
"–ö–∞–∫ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è –ø—Ä–æ—à–ª—ã–π –≤–∏–∑–∏—Ç –∫ –ú–∞—Ä–∏–∏?"
"–•–æ—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞ –∫ –≤–∞—à–µ–º—É –º–∞—Å—Ç–µ—Ä—É –°–∏–º–æ?"
"–í–∞–º –æ–±—ã—á–Ω–æ —É–¥–æ–±–Ω–æ –ø–æ—Å–ª–µ 15:00, –≤–µ—Ä–Ω–æ?"

‚ùå –ù–ï –ü–û–í–¢–û–†–Ø–ô:
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∫–æ—Ç–æ—Ä—É—é –∫–ª–∏–µ–Ω—Ç —É–∂–µ –∑–Ω–∞–µ—Ç
- –û–¥–Ω–∏ –∏ —Ç–µ –∂–µ —Ñ—Ä–∞–∑—ã
- –í–æ–ø—Ä–æ—Å—ã –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –ø–æ–ª—É—á–∏–ª –æ—Ç–≤–µ—Ç''',

    'avoid_repetition': '''üîÑ –ò–∑–±–µ–≥–∞–π –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π:

–í–∞—Ä–∏–∞—Ü–∏–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π:
- "–ü—Ä–∏–≤–µ—Ç! –ß–µ–º –ø–æ–º–æ—á—å?"
- "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –°–ª—É—à–∞—é –≤–∞—Å"
- "–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –ß—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?"

–í–∞—Ä–∏–∞—Ü–∏–∏ –ø—Ä–æ—â–∞–Ω–∏–π:
- "–î–æ –≤—Å—Ç—Ä–µ—á–∏! –ñ–¥—É –≤–∞—Å –∑–∞–≤—Ç—Ä–∞ üí´"
- "–û—Ç–ª–∏—á–Ω–æ, —É–≤–∏–¥–∏–º—Å—è! üåü"
- "–°—É–ø–µ—Ä! –î–æ —Å–∫–æ—Ä–æ–≥–æ ‚ú®"

–í–∞—Ä–∏–∞—Ü–∏–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π:
- "–û—Ç–ª–∏—á–Ω–æ!"
- "–°—É–ø–µ—Ä!"
- "–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ!"
- "–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!"

–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Ñ—Ä–∞–∑—É –¥–≤–∞–∂–¥—ã –ø–æ–¥—Ä—è–¥!''',

    'conversation_flow_rules': '''üéØ –ü—Ä–∞–≤–∏–ª–∞ –≤–µ–¥–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞:

1Ô∏è‚É£ –í–•–û–î –í –î–ò–ê–õ–û–ì:
- –û–ø—Ä–µ–¥–µ–ª–∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
- –ù–µ –∑–¥–æ—Ä–æ–≤–∞–π—Å—è –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç —Å—Ä–∞–∑—É –∑–∞–¥–∞–ª –≤–æ–ø—Ä–æ—Å

2Ô∏è‚É£ –ò–ù–§–û–†–ú–ò–†–û–í–ê–ù–ò–ï:
- –û—Ç–≤–µ—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å —á–µ—Ç–∫–æ –∏ –∫—Ä–∞—Ç–∫–æ
- –î–∞–π —Ü–µ–Ω—É + –∫–ª—é—á–µ–≤—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å
- –ú—è–≥–∫–æ –Ω–∞–ø—Ä–∞–≤—å –∫ –∑–∞–ø–∏—Å–∏

3Ô∏è‚É£ –†–ê–ë–û–¢–ê –° –í–û–ó–†–ê–ñ–ï–ù–ò–Ø–ú–ò:
- –í—ã—è—Å–Ω–∏ –∏—Å—Ç–∏–Ω–Ω—É—é –ø—Ä–∏—á–∏–Ω—É
- –û–±—Ä–∞–±–æ—Ç–∞–π –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–µ
- –í–µ—Ä–Ω–∏ –≤ –≤–æ—Ä–æ–Ω–∫—É –∑–∞–ø–∏—Å–∏

4Ô∏è‚É£ –°–ë–û–† –î–ê–ù–ù–´–•:
- –ò–º—è
- WhatsApp
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Email

5Ô∏è‚É£ –ó–ê–í–ï–†–®–ï–ù–ò–ï:
- –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ –∑–∞–ø–∏—Å—å
- –û—Ç–ø—Ä–∞–≤—å –¥–µ—Ç–∞–ª–∏
- –ü–æ–ø—Ä–æ—â–∞–π—Å—è –ø–æ–∑–∏—Ç–∏–≤–Ω–æ

6Ô∏è‚É£ –û–®–ò–ë–ö–ê/–ü–†–û–ë–õ–ï–ú–ê:
- –ò–∑–≤–∏–Ω–∏—Å—å
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤—å –∫ –º–µ–Ω–µ–¥–∂–µ—Ä—É''',

    'personality_adaptations': '''üé≠ –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞:

üé© –î–ï–õ–û–í–û–ô –ö–õ–ò–ï–ù–¢ (–∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø–æ –¥–µ–ª—É):
‚Üí –ë—É–¥—å –∫—Ä–∞—Ç–æ–∫ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω
‚Üí –£–±–µ—Ä–∏ —ç–º–æ–¥–∑–∏ –∏–ª–∏ –º–∏–Ω–∏–º—É–º
‚Üí –ë—ã—Å—Ç—Ä–æ –∫ –¥–µ–ª—É
"–ú–∞–Ω–∏–∫—é—Ä –≥–µ–ª—å-–ª–∞–∫ 130 AED, –∑–∞–Ω–∏–º–∞–µ—Ç —á–∞—Å. –£–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è?"

üí¨ –î–†–£–ñ–ï–õ–Æ–ë–ù–´–ô –ö–õ–ò–ï–ù–¢ (—Å–º–∞–π–ª–∏–∫–∏, —ç–º–æ—Ü–∏–∏):
‚Üí –ú–æ–∂–µ—à—å –±—ã—Ç—å —Ç–µ–ø–ª–µ–µ
‚Üí 1-2 —ç–º–æ–¥–∑–∏ –Ω–æ—Ä–º
‚Üí –õ–µ–≥–∫–∞—è –±–µ—Å–µ–¥–∞ –æ–∫
"–ú–∞–Ω–∏–∫—é—Ä –≥–µ–ª—å-–ª–∞–∫ ‚Äî 130 AED üíÖ –°–¥–µ–ª–∞–µ–º –Ω–æ–≥–æ—Ç–∫–∏ –∫—Ä–∞—Å–∏–≤—ã–º–∏! –ö–æ–≥–¥–∞ —É–¥–æ–±–Ω–æ?"

‚ùì –ù–ï–†–ï–®–ò–¢–ï–õ–¨–ù–´–ô –ö–õ–ò–ï–ù–¢ (–º–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤, —Å–æ–º–Ω–µ–Ω–∏—è):
‚Üí –ë–æ–ª—å—à–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
‚Üí –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ—Ç–≤–µ—á–∞–π
‚Üí –†–∞–∑–≤–µ–π —Å–æ–º–Ω–µ–Ω–∏—è
"–ü–æ–Ω–∏–º–∞—é –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã! –ú–∞–Ω–∏–∫—é—Ä –≥–µ–ª—å-–ª–∞–∫ –¥–µ—Ä–∂–∏—Ç—Å—è 2-3 –Ω–µ–¥–µ–ª–∏, –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –Ω–æ–≥—Ç–µ–π. –ù–∞—à–∏ –º–∞—Å—Ç–µ—Ä–∞ –æ—á–µ–Ω—å –∞–∫–∫—É—Ä–∞—Ç–Ω—ã. –•–æ—Ç–∏—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å?"

üò§ –¢–†–ï–ë–û–í–ê–¢–ï–õ–¨–ù–´–ô –ö–õ–ò–ï–ù–¢ (–∂–∞–ª–æ–±—ã, –≤—ã—Å–æ–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è):
‚Üí –ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º–∞
‚Üí –ù–∏–∫–∞–∫–∏—Ö —ç–º–æ–¥–∑–∏
‚Üí –ö–æ–Ω–∫—Ä–µ—Ç–∏–∫–∞ –∏ –≥–∞—Ä–∞–Ω—Ç–∏–∏
"–ü–æ–Ω–∏–º–∞—é –≤–∞—à–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è. –í—Å–µ –Ω–∞—à–∏ –º–∞—Å—Ç–µ—Ä–∞ —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã, —Ä–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –∫–∞—á–µ—Å—Ç–≤–æ."''',

    'smart_objection_detection': '''üéØ –£–º–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π:

üí∞ –¶–ï–ù–ê:
–§—Ä–∞–∑—ã: "–¥–æ—Ä–æ–≥–æ", "—Ü–µ–Ω–∞ –≤—ã—Å–æ–∫–∞—è", "–¥–µ—à–µ–≤–ª–µ –µ—Å—Ç—å?", "—Å–∫–∏–¥–∫–∞?", "–º–æ–∂–Ω–æ –¥–µ—à–µ–≤–ª–µ"
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π objection_expensive

‚è∞ –í–†–ï–ú–Ø:
–§—Ä–∞–∑—ã: "–Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–∏", "–∑–∞–Ω—è—Ç", "–Ω–µ–∫–æ–≥–¥–∞", "–ø–æ–∑–∂–µ", "–Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ"
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π objection_no_time

ü§î –°–û–ú–ù–ï–ù–ò–ï/–û–¢–ö–õ–ê–î–´–í–ê–ù–ò–ï:
–§—Ä–∞–∑—ã: "–ø–æ–¥—É–º–∞—é", "–ø–æ—Å–º–æ—Ç—Ä—é", "–Ω–µ —É–≤–µ—Ä–µ–Ω", "–Ω–µ –∑–Ω–∞—é", "–º–æ–∂–µ—Ç –±—ã—Ç—å"
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π objection_think_about_it

üò® –°–¢–†–ê–•/–ë–û–õ–¨:
–§—Ä–∞–∑—ã: "–±–æ–ª—å–Ω–æ?", "—Å—Ç—Ä–∞—à–Ω–æ", "–±–æ—é—Å—å", "–±—É–¥–µ—Ç –±–æ–ª–µ—Ç—å"
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π objection_pain

‚ùì –°–û–ú–ù–ï–ù–ò–ï –í –†–ï–ó–£–õ–¨–¢–ê–¢–ï:
–§—Ä–∞–∑—ã: "–ø–æ–º–æ–∂–µ—Ç?", "—ç—Ñ—Ñ–µ–∫—Ç –±—É–¥–µ—Ç?", "—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω?", "—Ç–æ—á–Ω–æ –ø–æ–ª—É—á–∏—Ç—Å—è?"
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π objection_result_doubt

üí∏ –°–†–ê–í–ù–ï–ù–ò–ï –¶–ï–ù:
–§—Ä–∞–∑—ã: "—É –¥—Ä—É–≥–∏—Ö –¥–µ—à–µ–≤–ª–µ", "—Ç–∞–º –≤–∏–¥–µ–ª –¥–µ—à–µ–≤–ª–µ", "–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã –¥–µ—à–µ–≤–ª–µ"
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π objection_cheaper_elsewhere

üìç –õ–û–ö–ê–¶–ò–Ø:
–§—Ä–∞–∑—ã: "–¥–∞–ª–µ–∫–æ", "–Ω–µ —É–¥–æ–±–Ω–æ –¥–æ–±–∏—Ä–∞—Ç—å—Å—è", "–≥–¥–µ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å", "–∫–∞–∫ –¥–æ–µ—Ö–∞—Ç—å"
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π objection_too_far

üë®‚Äçüë©‚Äçüëß –†–ï–®–ï–ù–ò–ï –° –ö–ï–ú-–¢–û:
–§—Ä–∞–∑—ã: "—Å–ø—Ä–æ—à—É –º—É–∂–∞", "–ø–æ—Å–æ–≤–µ—Ç—É—é—Å—å", "—Å –º–∞–º–æ–π –æ–±—Å—É–∂—É", "–Ω—É–∂–Ω–æ —Å–ø—Ä–æ—Å–∏—Ç—å"
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π objection_consult_husband

üÜï –ü–ï–†–í–´–ô –†–ê–ó:
–§—Ä–∞–∑—ã: "–ø–µ—Ä–≤—ã–π —Ä–∞–∑", "–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–µ–ª–∞–ª", "–Ω–µ –ø—Ä–æ–±–æ–≤–∞–ª", "–æ–ø—ã—Ç–∞ –Ω–µ—Ç"
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π objection_first_time

üòû –ü–õ–û–•–û–ô –û–ü–´–¢:
–§—Ä–∞–∑—ã: "–Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å —Ä–∞–Ω—å—à–µ", "–±—ã–ª–æ –ø–ª–æ—Ö–æ", "–Ω–µ—É–¥–∞—á–Ω—ã–π –æ–ø—ã—Ç", "–±–æ–ª—å—à–µ –Ω–µ —Ö–æ—á—É"
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π objection_not_happy'''
}


def check_bot_settings():
    """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª–µ–π –±–æ—Ç–∞"""
    conn = sqlite3.connect(DATABASE_NAME)
    c = conn.cursor()

    print("\nüìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–µ–π bot_settings:")
    print("=" * 80)

    empty_fields = []
    filled_fields = []

    for field_name in BOT_SETTINGS_VALUES.keys():
        try:
            c.execute(f"SELECT {field_name} FROM bot_settings WHERE id = 1")
            result = c.fetchone()

            if result and result[0] and result[0].strip():
                filled_fields.append(field_name)
                print(f"‚úÖ {field_name}: –∑–∞–ø–æ–ª–Ω–µ–Ω–æ ({len(result[0])} —Å–∏–º–≤–æ–ª–æ–≤)")
            else:
                empty_fields.append(field_name)
                print(f"‚ùå {field_name}: –ü–£–°–¢–û")
        except sqlite3.OperationalError as e:
            print(f"‚ö†Ô∏è  {field_name}: –ø–æ–ª–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î")

    conn.close()

    print("\n" + "=" * 80)
    print(f"\nüìä –ò—Ç–æ–≥–æ:")
    print(f"   –ó–∞–ø–æ–ª–Ω–µ–Ω–æ: {len(filled_fields)}")
    print(f"   –ü—É—Å—Ç–æ: {len(empty_fields)}")

    if empty_fields:
        print(f"\n‚ö†Ô∏è  –ü—É—Å—Ç—ã–µ –ø–æ–ª—è ({len(empty_fields)}):")
        for field in empty_fields:
            print(f"   - {field}")

    return empty_fields


def fill_empty_fields():
    """–ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—É—Å—Ç—ã–µ –ø–æ–ª—è"""
    conn = sqlite3.connect(DATABASE_NAME)
    c = conn.cursor()

    print("\n" + "=" * 80)
    print("üîß –ó–ê–ü–û–õ–ù–ï–ù–ò–ï –ü–£–°–¢–´–• –ü–û–õ–ï–ô –í BOT_SETTINGS")
    print("=" * 80)

    updated_count = 0

    for field_name, value in BOT_SETTINGS_VALUES.items():
        try:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
            c.execute(f"SELECT {field_name} FROM bot_settings WHERE id = 1")
            current = c.fetchone()

            if current and (current[0] is None or current[0].strip() == ''):
                # –ü–æ–ª–µ –ø—É—Å—Ç–æ–µ, –∑–∞–ø–æ–ª–Ω—è–µ–º
                c.execute(f"""
                    UPDATE bot_settings
                    SET {field_name} = ?, updated_at = datetime('now')
                    WHERE id = 1
                """, (value,))

                print(f"‚úÖ {field_name}: –∑–∞–ø–æ–ª–Ω–µ–Ω–æ ({len(value)} —Å–∏–º–≤–æ–ª–æ–≤)")
                updated_count += 1
            else:
                print(f"‚è≠Ô∏è  {field_name}: —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ")
        except sqlite3.OperationalError as e:
            print(f"‚ö†Ô∏è  {field_name}: –æ—à–∏–±–∫–∞ - {e}")

    conn.commit()
    conn.close()

    print("\n" + "=" * 80)
    if updated_count > 0:
        print(f"‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–æ –ø–æ–ª–µ–π: {updated_count}")
    else:
        print("‚ÑπÔ∏è  –í—Å–µ –ø–æ–ª—è —É–∂–µ –±—ã–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã")
    print("=" * 80)

    return updated_count


def fill_all_fields(force=False):
    """–ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –ø–æ–ª—è (—Å –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é)"""
    if not force:
        print("\n‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –í–°–ï –ø–æ–ª—è!")
        response = input("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (yes/no): ").lower()
        if response != 'yes':
            print("–û—Ç–º–µ–Ω–µ–Ω–æ.")
            return 0

    conn = sqlite3.connect(DATABASE_NAME)
    c = conn.cursor()

    print("\n" + "=" * 80)
    print("üîß –ü–ï–†–ï–ó–ê–ü–ò–°–¨ –í–°–ï–• –ü–û–õ–ï–ô –í BOT_SETTINGS")
    print("=" * 80)

    updated_count = 0

    for field_name, value in BOT_SETTINGS_VALUES.items():
        try:
            c.execute(f"""
                UPDATE bot_settings
                SET {field_name} = ?, updated_at = datetime('now')
                WHERE id = 1
            """, (value,))

            print(f"‚úÖ {field_name}: –æ–±–Ω–æ–≤–ª–µ–Ω–æ ({len(value)} —Å–∏–º–≤–æ–ª–æ–≤)")
            updated_count += 1
        except sqlite3.OperationalError as e:
            print(f"‚ö†Ô∏è  {field_name}: –æ—à–∏–±–∫–∞ - {e}")

    conn.commit()
    conn.close()

    print("\n" + "=" * 80)
    print(f"‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ –ø–æ–ª–µ–π: {updated_count}")
    print("=" * 80)

    return updated_count


def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    import argparse

    parser = argparse.ArgumentParser(description='–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞')
    parser.add_argument('--check', action='store_true', help='–¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π')
    parser.add_argument('--force', action='store_true', help='–ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –≤—Å–µ –ø–æ–ª—è')
    parser.add_argument('--all', action='store_true', help='–ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –≤—Å–µ –ø–æ–ª—è (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)')

    args = parser.parse_args()

    if args.check:
        # –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞
        check_bot_settings()
    elif args.force or args.all:
        # –ü–µ—Ä–µ–∑–∞–ø–∏—Å—å –≤—Å–µ—Ö –ø–æ–ª–µ–π
        fill_all_fields(force=args.force)
    else:
        # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—É—Å—Ç—ã–µ
        empty = check_bot_settings()
        if empty:
            print("\n")
            fill_empty_fields()
        else:
            print("\n‚úÖ –í—Å–µ –ø–æ–ª—è —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ --force –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏.")


if __name__ == "__main__":
    try:
        main()
    except KeyboardInterrupt:
        print("\n\n‚ö†Ô∏è  –ü—Ä–µ—Ä–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º")
        sys.exit(1)
    except Exception as e:
        print(f"\n‚ùå –û—à–∏–±–∫–∞: {e}")
        import traceback
        traceback.print_exc()
        sys.exit(1)
