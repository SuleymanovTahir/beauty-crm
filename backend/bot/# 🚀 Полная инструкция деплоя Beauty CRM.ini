# üöÄ –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–µ–ø–ª–æ—è Beauty CRM –Ω–∞ Ubuntu Server

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞](#1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-—Å–µ—Ä–≤–µ—Ä–∞)
2. [–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](#2-–∑–∞–≥—Ä—É–∑–∫–∞-–ø—Ä–æ–µ–∫—Ç–∞)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend (Python/FastAPI)](#3-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-backend-pythonfastapi)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend (React/Vite)](#4-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-frontend-reactvite)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx](#5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-nginx)
6. [SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã](#6-ssl-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)
7. [Systemd —Å–µ—Ä–≤–∏—Å](#7-systemd-—Å–µ—Ä–≤–∏—Å-–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫)
8. [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#8-–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)

---

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```
ssh ubuntu@91.201.215.32
```

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
```
sudo apt update
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
```
sudo apt install python3 python3-pip python3-venv git nginx certbot python3-certbot-nginx net-tools curl -y
```

–°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
```
mkdir -p /home/ubuntu/beauty_crm
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
```
sudo chown -R ubuntu:ubuntu /home/ubuntu/beauty_crm
```

–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```
cd /home/ubuntu/beauty_crm
```

---

## 2. –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –° –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (Mac/Linux)

–ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ rsync –±–µ–∑ venv –∏ node_modules

# 1. –°–æ–∑–¥–∞–π –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É –±–µ–∑ venv –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (Mac):
```rsync -av --exclude='venv' --exclude='.git' --exclude='node_modules' "/Users/tahir/Desktop/beauty-crm/" "/Users/tahir/Desktop/beauty-crm/temp_beauty_crm/"```

# 2. –ó–∞–ª–µ–π –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
```scp -r "/Users/tahir/Desktop/beauty-crm/temp_beauty_crm" ubuntu@91.201.215.32:/home/ubuntu/beauty_crm```

# 3. –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
```rm -rf "/Users/tahir/Desktop/beauty-crm/temp_beauty_crm"```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: —á–µ—Ä–µ–∑ scp

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenSSH –Ω–∞ Ubuntu (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```
sudo apt install openssh-client
```

–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ scp
```
scp -r ~/Desktop/beauty-crm ubuntu@91.201.215.32:/home/ubuntu/beauty_crm/
```

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ SSH –∫–ª—é—á–µ–π

–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö SSH –∫–ª—é—á–µ–π
```
ssh-keygen -R 91.201.215.32
```

---

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend (Python/FastAPI)

–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é backend
```
cd /home/ubuntu/beauty_crm/backend
```

–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```
python3 -m venv venv
```

–ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```
source venv/bin/activate
```

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ pip
```
pip install --upgrade pip
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞
```
pip install -r requirements.txt
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Gunicorn –∏ Uvicorn
```
pip install gunicorn uvicorn
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Gunicorn
```
ls venv/bin | grep gunicorn
```

–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ (Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)
```
venv/bin/gunicorn main:app -k uvicorn.workers.UvicornWorker -b 0.0.0.0:8000
```

---

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend (React/Vite)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ nvm (Node Version Manager)
```
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.0/install.sh | bash
```

–≠–∫—Å–ø–æ—Ä—Ç NVM –≤ —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é
```
export NVM_DIR="$HOME/.nvm"
```

–ó–∞–≥—Ä—É–∑–∫–∞ nvm —Å–∫—Ä–∏–ø—Ç–∞
```
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ nvm
```
nvm --version
```

–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö LTS –≤–µ—Ä—Å–∏–π Node.js
```
nvm ls-remote --lts | tail -5
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π LTS –≤–µ—Ä—Å–∏–∏ Node.js
```
nvm install --lts
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
```
nvm use node
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ—Ä—Å–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```
nvm alias default node
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Node.js
```
node -v
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ npm
```
npm -v
```

npm install

# –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
npm run build

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞
sudo chown -R www-data:www-data dist/
sudo chmod -R 755 dist/

–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é frontend
```
cd /home/ubuntu/beauty_crm/frontend
```

–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö node_modules (–µ—Å–ª–∏ –µ—Å—Ç—å)
```
rm -rf node_modules package-lock.json
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π frontend
```
npm install
```

–°–±–æ—Ä–∫–∞ frontend –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```
npm run build
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è dist –ø–∞–ø–∫–∏
```
ls -la dist/
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è dist
```
chmod -R 755 /home/ubuntu/beauty_crm/frontend/dist
```

---

## 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
```
sudo nano /etc/nginx/sites-available/beauty_crm.conf
```

**–°–∫–æ–ø–∏—Ä—É–π –∏ –≤—Å—Ç–∞–≤—å –≤ nano:**
```
# –†–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS
server {
    listen 80;
    server_name mlediamant.com www.mlediamant.com;
    
    return 301 https://$host$request_uri;
}

# –û—Å–Ω–æ–≤–Ω–æ–π HTTPS —Å–µ—Ä–≤–µ—Ä
server {
    listen 443 ssl http2;
    server_name mlediamant.com www.mlediamant.com;

    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–ø—É—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã –∏—Ö –ø–æ–ª—É—á–∏–ª–∏)
    # –ï—Å–ª–∏ —á–µ—Ä–µ–∑ certbot/Let's Encrypt:
    ssl_certificate /etc/letsencrypt/live/mlediamant.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/mlediamant.com/privkey.pem;
    
    # SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_prefer_server_ciphers on;
    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384;

    # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π)
    location /api/ {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # ‚≠ê –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–ë–ï–ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
    location /public/ {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # ‚≠ê Instagram webhooks
    location /webhook {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # ‚≠ê –ü—Ä–æ–∫—Å–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π Instagram
    location /proxy/ {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # –°—Ç–∞—Ç–∏–∫–∞ –±—ç–∫–µ–Ω–¥–∞ (–∑–∞–≥—Ä—É–∑–∫–∏)
    location /static/ {
        alias /home/ubuntu/beauty_crm/backend/static/;
        expires 7d;
        add_header Cache-Control "public, no-transform";
    }

    # –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Å—Ç–∞—Ç–∏–∫–∞ —Å –∫—ç—à–µ–º
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff2?|ttf|eot)$ {
        root /home/ubuntu/beauty_crm/frontend/dist;
        expires 7d;
        add_header Cache-Control "public, no-transform";
    }

    # –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ - React SPA
    location / {
        root /home/ubuntu/beauty_crm/frontend/dist;
        try_files $uri /index.html;
    }
}
```

–£–¥–∞–ª–µ–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
```
sudo rm /etc/nginx/sites-enabled/default
```

–°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º–ª–∏–Ω–∫–∞ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```
sudo ln -s /etc/nginx/sites-available/mlediamant /etc/nginx/sites-enabled/
```

–î–∞—Ç—å –ø–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞
```sudo chmod -R 777 /home/ubuntu/beauty_crm/frontend/dist```


–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
```
sudo nginx -t
```

‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
```sudo chown -R ubuntu:www-data /home/ubuntu/beauty_crm/frontend/dist
sudo chmod -R 755 /home/ubuntu/beauty_crm/frontend/dist```


–ß—Ç–æ–±—ã –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º, —á—Ç–æ Nginx –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∏:
```sudo chmod 755 /home/ubuntu
sudo chmod 755 /home/ubuntu/beauty_crm
sudo chmod 755 /home/ubuntu/beauty_crm/frontend```

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
```
sudo systemctl restart nginx
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Nginx
```
sudo systemctl status nginx
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
```
sudo ufw status
```

–†–∞–∑—Ä–µ—à–∏—Ç—å SSH –ø–æ—Ä—Ç 22
```
sudo ufw allow 22
```

–†–∞–∑—Ä–µ—à–∏—Ç—å HTTP –ø–æ—Ä—Ç 80
```
sudo ufw allow 80
```

–†–∞–∑—Ä–µ—à–∏—Ç—å HTTPS –ø–æ—Ä—Ç 443
```
sudo ufw allow 443
```

–í–∫–ª—é—á–∏—Ç—å —Ñ–∞–π—Ä–≤–æ–ª
```
sudo ufw enable
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –ø–æ—Ä—Ç 8000 —Å–ª—É—à–∞–µ—Ç—Å—è
```
sudo ss -tuln | grep 8000
```

---

## 6. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot –¥–ª—è Nginx
```
sudo apt install certbot python3-certbot-nginx -y
```

–ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–≤–≤–µ–¥–∏ email: mladiamontuae@gmail.com)
```
sudo certbot --nginx -d mlediamant.com -d www.mlediamant.com
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx –ø–æ—Å–ª–µ SSL
```
sudo nginx -t
```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Nginx
```
sudo systemctl reload nginx
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç
```
curl -I https://mlediamant.com
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–π–º–µ—Ä–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
```
sudo systemctl status certbot.timer
```

–¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–Ω–µ –º–µ–Ω—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)
```
sudo certbot renew --dry-run
```

---

## 7. Systemd —Å–µ—Ä–≤–∏—Å (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫)

–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å–µ—Ä–≤–∏—Å–∞
```
sudo nano /etc/systemd/system/beauty_crm.service
```

**–°–∫–æ–ø–∏—Ä—É–π –∏ –≤—Å—Ç–∞–≤—å –≤ nano:**
```
[Unit]
Description=Beauty CRM FastAPI with Gunicorn
After=network.target

[Service]
User=ubuntu
Group=www-data
WorkingDirectory=/home/ubuntu/beauty_crm/backend
Environment="PATH=/home/ubuntu/beauty_crm/backend/venv/bin"
ExecStart=/home/ubuntu/beauty_crm/backend/venv/bin/gunicorn \
          -w 4 \
          -k uvicorn.workers.UvicornWorker \
          main:app \
          --bind 0.0.0.0:8000 \
          --access-logfile /home/ubuntu/beauty_crm/backend/access.log \
          --error-logfile /home/ubuntu/beauty_crm/backend/error.log
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target

```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ systemd
```
sudo systemctl daemon-reload
```

–í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
```
sudo systemctl enable beauty_crm
```

–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```
sudo systemctl start beauty_crm
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞
```
sudo systemctl status beauty_crm
```

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–∞
```
sudo journalctl -u beauty_crm -f
```

–ü—Ä–æ—Å–º–æ—Ç—Ä access –ª–æ–≥–æ–≤
```
tail -f /home/ubuntu/beauty_crm/backend/access.log
```

–ü—Ä–æ—Å–º–æ—Ç—Ä error –ª–æ–≥–æ–≤
```
tail -f /home/ubuntu/beauty_crm/backend/error.log
```

---

## 8. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Backend

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```
sudo systemctl restart beauty_crm
```

–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
```
sudo systemctl stop beauty_crm
```

–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
```
sudo systemctl status beauty_crm
```

–õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
```
sudo journalctl -u beauty_crm -f --lines 50
```

### Frontend

–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é frontend
```
cd /home/ubuntu/beauty_crm/frontend
```

–ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ frontend
```
npm run build
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
```
sudo systemctl restart beauty_crm
```

### Nginx

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
```
sudo nginx -t
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
```
sudo systemctl restart nginx
```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Nginx (–º—è–≥–∫–∞—è)
```
sudo systemctl reload nginx
```

–õ–æ–≥–∏ –æ—à–∏–±–æ–∫ Nginx
```
sudo tail -f /var/log/nginx/error.log
```

–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞ Nginx
```
sudo tail -f /var/log/nginx/access.log
```

### –ü—Ä–æ—Ü–µ—Å—Å—ã

–ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å Gunicorn
```
ps aux | grep gunicorn
```

–ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å Uvicorn
```
ps aux | grep uvicorn
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ 8000
```
sudo ss -tuln | grep 8000
```

### Screen —Å–µ—Å—Å–∏–∏

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é screen —Å–µ—Å—Å–∏—é
```
screen -S beauty_crm
```

–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö screen —Å–µ—Å—Å–∏–π
```
screen -ls
```

–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ screen —Å–µ—Å—Å–∏—é
```
screen -r beauty_crm
```

### –£–¥–∞–ª–µ–Ω–∏–µ/–æ—á–∏—Å—Ç–∫–∞

–£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
```
rm -rf /home/ubuntu/beauty_crm
```

–£–¥–∞–ª–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```
rm -rf venv
```

–û—á–∏—Å—Ç–∫–∞ node_modules
```
rm -rf node_modules package-lock.json
```

–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
```
sudo systemctl stop beauty_crm
```

–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
```
sudo systemctl disable beauty_crm
```

–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å–µ—Ä–≤–∏—Å–∞
```
sudo rm /etc/systemd/system/beauty_crm.service
```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ systemd –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è
```
sudo systemctl daemon-reload
```

---

## üéØ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

–ü—Ä–æ–≤–µ—Ä–∫–∞ Backend API
```
curl http://localhost:8000/health
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ Frontend —Å–æ–±—Ä–∞–Ω
```
ls -la /home/ubuntu/beauty_crm/frontend/dist/index.html
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç
```
sudo systemctl status nginx
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω
```
sudo systemctl status beauty_crm
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç —Å–ª—É—à–∞–µ—Ç—Å—è
```
sudo ss -tuln | grep 8000
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Ä–∞–±–æ—Ç–∞–µ—Ç
```
curl -I https://mlediamant.com
```

---

## üî• Workflow –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –õ–æ–∫–∞–ª—å–Ω–æ —Å–æ–±—Ä–∞—Ç—å frontend

–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é frontend –ª–æ–∫–∞–ª—å–Ω–æ
```
cd ~/Desktop/beauty-crm/frontend
```

–°–±–æ—Ä–∫–∞ frontend –ª–æ–∫–∞–ª—å–Ω–æ
```
npm run build
```

–ó–∞–≥—Ä—É–∑–∫–∞ dist –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```
rsync -avz --delete dist/ ubuntu@91.201.215.32:/home/ubuntu/beauty_crm/frontend/dist/
```

–ó–∞–≥—Ä—É–∑–∫–∞ backend –∫–æ–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```
rsync -av --exclude='venv' --exclude='node_modules' --exclude='.git' ~/Desktop/beauty-crm/backend/ ubuntu@91.201.215.32:/home/ubuntu/beauty_crm/backend/
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```
ssh ubuntu@91.201.215.32
```

–ü–µ—Ä–µ—Ö–æ–¥ –≤ backend
```
cd /home/ubuntu/beauty_crm/backend
```

–ê–∫—Ç–∏–≤–∞—Ü–∏—è venv
```
source venv/bin/activate
```

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)
```
pip install -r requirements.txt
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```
sudo systemctl restart beauty_crm
```

---

## üìû –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–∞

- **–°–µ—Ä–≤–µ—Ä:** 91.201.215.32
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** ubuntu
- **–ü–∞—Ä–æ–ª—å:** kMJhy5pHKYiKRb2Pb2Dfm3U=
- **–î–æ–º–µ–Ω:** mlediamant.com
- **Email (SSL):** mladiamontuae@gmail.com

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–≤–æ–π –ø—Ä–æ–µ–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
- **HTTP:** http://mlediamant.com
- **HTTPS:** https://mlediamant.com
- **API Docs:** https://mlediamant.com/docs
- **Health Check:** https://mlediamant.com/health

üéâ **CRM —Å–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞!**




—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —è–∑—ã–∫–æ–≤–æ–≥–æ 
```npm install react-i18next i18next i18next-browser-languagedetector
npm install -D i18next-parser```
–µ—Å–ª–∏ –≤—ã–¥–∞–µ—Ç npm WARN deprecated ... ‚Äî –ø—Ä–æ—Å—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å—Ç–∞—Ä—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö.
1 moderate severity vulnerability ‚Äî –Ω–µ—Å–µ—Ä—å—ë–∑–Ω–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å, –Ω–æ –º–æ–∂–Ω–æ –ø–æ—á–∏—Å—Ç–∏—Ç—å:

```npm audit fix```



—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
npm install i18next-parser --save-dev

#—Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫–∏
npm run i18n:create


–¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º 
```npm run i18n:extract```


# 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–∫–æ–ø–∏—Ä—É–µ—Ç ru/* –≤–æ –≤—Å–µ —è–∑—ã–∫–∏)
npm run i18n:sync

# 2. –°–∫–∞–Ω–∏—Ä—É–µ–º –∫–æ–¥ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –∫–ª—é—á–∏
npm run i18n:extract

# 3. –°–Ω–æ–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –µ—Å–ª–∏ –ø–æ—è–≤–∏–ª–∏—Å—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
npm run i18n:sync

cd /home/ubuntu/beauty_crm/frontend

rm -rf node_modules package-lock.json

npm install --no-audit --prefer-offline --verbose


npm run build -- --verbose=false


1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∞—è –≤–µ—Ä—Å–∏—è Node —Ä–µ–∞–ª—å–Ω–æ —Å–µ–π—á–∞—Å –∞–∫—Ç–∏–≤–Ω–∞:

node -v


–ï—Å–ª–∏ –ø–æ–∫–∞–∂–µ—Ç v24.x.x ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–Ω–∞—è.

2Ô∏è‚É£ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å Node 22 –≥–ª–æ–±–∞–ª—å–Ω–æ:
–û—á–∏—Å—Ç–∏ –∫—ç—à npm:
npm cache clean --force

nvm alias default 22
nvm use default


—Å–∞–π—Ç –ø—Ä–æ–∫—Å–∏
https://dashboard.webshare.io/12112026/proxy/list?authenticationMethod=%22username_password%22&connectionMethod=%22direct%22&proxyControl=%220%22&rowsPerPage=10&page=0&order=%22asc%22&orderBy=null&searchValue=%22%22&removeType=%22refresh_all%22