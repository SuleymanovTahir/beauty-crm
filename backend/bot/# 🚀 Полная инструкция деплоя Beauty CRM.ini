# üöÄ –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–µ–ø–ª–æ—è Beauty CRM
---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û —Å–æ–±–ª—é–¥–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫:**

### 1Ô∏è‚É£ –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ **–î–û** –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
# Mac: –°–∫–∞—á–∞—Ç—å Postgres.app —Å https://postgresapp.com/downloads.html
# Linux: sudo apt install postgresql postgresql-contrib

# Mac: –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Postgres.app –¥–æ–±–∞–≤–∏—Ç—å –≤ PATH
echo 'export PATH="/Applications/Postgres.app/Contents/Versions/latest/bin:$PATH"' >> ~/.zshrc
source ~/.zshrc

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
which psql
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: /Applications/Postgres.app/Contents/Versions/latest/bin/psql

# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
createdb beauty_crm
createuser beauty_crm_user
psql -c "ALTER USER beauty_crm_user WITH PASSWORD 'local_password';"
psql -c "GRANT ALL PRIVILEGES ON DATABASE beauty_crm TO beauty_crm_user;"
```

### 2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env.local

```bash
cat > .env.local << 'EOF'
DATABASE_TYPE=postgresql
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=beauty_crm
POSTGRES_USER=beauty_crm_user
POSTGRES_PASSWORD=local_password
ENVIRONMENT=development
EOF
```

### 3Ô∏è‚É£ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
cd /Users/tahir/Desktop/beauty-crm/backend
source venv/bin/activate
python -c "from db.init import init_database; init_database()"
```

### 4Ô∏è‚É£ –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
python3 -m uvicorn main:app --reload
```

---

## üîÑ –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ SQLite

–ï—Å–ª–∏ PostgreSQL –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite:

```bash
cat > .env.local << 'EOF'
DATABASE_TYPE=sqlite
ENVIRONMENT=development
EOF
```

–ó–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä.

---

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ PostgreSQL: `docs/POSTGRES_MIGRATION.md`

---
 –Ω–∞ Ubuntu Server

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

### üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- [–ü—Ä–æ–±–ª–µ–º–∞: npm –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è](#-–ø—Ä–æ–±–ª–µ–º–∞-npm-–Ω–µ-—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è)
- [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Node.js –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–µ—Ä–≤–µ—Ä–µ](#-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-nodejs-–Ω–∞-–ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–µ—Ä–≤–µ—Ä–µ)

### üì¶ –û—Å–Ω–æ–≤–Ω–æ–π –¥–µ–ø–ª–æ–π
1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞](#1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-—Å–µ—Ä–≤–µ—Ä–∞)
2. [–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](#2-–∑–∞–≥—Ä—É–∑–∫–∞-–ø—Ä–æ–µ–∫—Ç–∞)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend (Python/FastAPI)](#3-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-backend-pythonfastapi)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend (React/Vite)](#4-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-frontend-reactvite)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx](#5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-nginx)
6. [SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã](#6-ssl-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)
7. [Systemd —Å–µ—Ä–≤–∏—Å (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫)](#7-systemd-—Å–µ—Ä–≤–∏—Å-–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫)

### üõ†Ô∏è –†–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#8-–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)
- [–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è](#-–±—ã—Å—Ç—Ä–∞—è-–ø—Ä–æ–≤–µ—Ä–∫–∞-–ø–æ—Å–ª–µ-–¥–µ–ø–ª–æ—è)
- [Workflow –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞](#-workflow-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è-–ø—Ä–æ–µ–∫—Ç–∞)
- [–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#-–ª–æ–∫–∞–ª—å–Ω–∞—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [–†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ (i18n)](#-—Ä–∞–±–æ—Ç–∞-—Å-–ø–µ—Ä–µ–≤–æ–¥–∞–º–∏-i18n)
- [–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—á–∏—Å—Ç–∫–∏](#Ô∏è-–∫–æ–º–∞–Ω–¥—ã-–¥–ª—è-–æ—á–∏—Å—Ç–∫–∏)
- [–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ (cron)](#-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–æ—á–∏—Å—Ç–∫–∞-cron)

### üìû –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- [–î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–∞](#-–¥–∞–Ω–Ω—ã–µ-–¥–æ—Å—Ç—É–ø–∞)
- [–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏](#-–ø–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏)

---

# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

## üìå –ü—Ä–æ–±–ª–µ–º–∞: npm –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

(–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ª–∏–º–∏—Ç—ã, swap, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞)

–ï—Å–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ **npm install** –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –∑–∞–≤–∏—Å–∞–µ—Ç, –≤—ã–ª–µ—Ç–∞–µ—Ç —Å –æ—à–∏–±–∫–∞–º–∏ —Ç–∏–ø–∞
`ENOMEM`, `EAGAIN`, `too many open files`, `Killed`,
—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –≤ –¥–≤—É—Ö –≤–µ—â–∞—Ö:

### ‚ùó 1. –ú–∞–ª–µ–Ω—å–∫–∏–π –ª–∏–º–∏—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ (ulimit)

### ‚ùó 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ swap (—É —Ç–µ–±—è –±—ã–ª–æ: `Swp: 0K/0K`)

–ù–∏–∂–µ ‚Äî –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –∫–æ–º–∞–Ω–¥–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –≤—ã–ø–æ–ª–Ω—è–ª–∏.

---

### üî• –®–∞–≥ 1 ‚Äî –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ª–∏–º–∏—Ç —Ñ–∞–π–ª–æ–≤

```bash
ulimit -n
```

–£ —Ç–µ–±—è –±—ã–ª–æ:

```
1024
```

–≠—Ç–æ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ ‚Äî npm –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç **65535**.

---

### üî• –®–∞–≥ 2 ‚Äî –£–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç —Ñ–∞–π–ª–æ–≤ (NOFILE)

#### 2.1 –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª limits.conf

```bash
sudo nano /etc/security/limits.conf
```

–í –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –¥–æ–ø–∏—Å–∞—Ç—å:

```
* soft nofile 65535
* hard nofile 65535
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç—å: **Ctrl+O ‚Üí Enter ‚Üí Ctrl+X**.

---

#### 2.2 –ü—Ä–æ–ø–∏—Å–∞—Ç—å –ª–∏–º–∏—Ç—ã –¥–ª—è systemd

```bash
echo 'DefaultLimitNOFILE=65535' | sudo tee -a /etc/systemd/system.conf
echo 'DefaultLimitNOFILE=65535' | sudo tee -a /etc/systemd/user.conf
```

–£ —Ç–µ–±—è –≤—ã–≤–æ–¥ –±—ã–ª:

```
DefaultLimitNOFILE=65535
DefaultLimitNOFILE=65535
```

–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

---

#### ‚ùó –ü–æ—á–µ–º—É –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ `ulimit -n` –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 1024?

–ü–æ—Ç–æ–º—É —á—Ç–æ:

* –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ limits.conf **–Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –¥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏**
* systemd-–∫–æ–Ω—Ñ–∏–≥–∏ **—Ç–æ–∂–µ —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏**
* —Ç–µ–∫—É—â–∞—è SSH-—Å–µ—Å—Å–∏—è –∑–∞–ø—É—â–µ–Ω–∞ —Å–æ —Å—Ç–∞—Ä—ã–º –ª–∏–º–∏—Ç–æ–º

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

---

### üî• –®–∞–≥ 3 ‚Äî –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ2: —É —Ç–µ–±—è **0 swap**

–¢—ã –ø–æ–ª—É—á–∏–ª:

```
Swp: 0K/0K
```

–ò —Ç–µ—Ä–º–∏–Ω–∞–ª –¥–∞–∂–µ –≤—ã–¥–∞–ª:

```
Swp:: command not found
```

Swap –Ω—É–∂–µ–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –∏–Ω–∞—á–µ **Node, npm, Python, Vite, React** –º–æ–≥—É—Ç ¬´—É–±–∏–≤–∞—Ç—å—Å—è¬ª —Å–∏—Å—Ç–µ–º–æ–π –∏–∑-–∑–∞ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏.

---

### üî• –®–∞–≥ 4 ‚Äî –°–æ–∑–¥–∞—ë–º swap-—Ñ–∞–π–ª 2 GB

```bash
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

```bash
free -h
```

–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:

```
Swap: 2.0G   0B   2.0G
```

–ß—Ç–æ–±—ã swap –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–ª—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:

```bash
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
```

---

### üî• –®–∞–≥ 5 ‚Äî –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

```bash
sudo reboot
```

–£ —Ç–µ–±—è –≤—ã–≤–æ–¥ –±—ã–ª:

```
The system will reboot now!
Read from remote host: Connection reset by peer
```

–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî —Å–µ—Ä–≤–µ—Ä —É—à—ë–ª –≤ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É.

---

### üî• –®–∞–≥ 6 ‚Äî –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

#### 6.1 –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è

```bash
ssh ubuntu@91.201.215.32
```

#### 6.2 –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç —Ñ–∞–π–ª–æ–≤

```bash
ulimit -n
```

–û–∂–∏–¥–∞–µ–º:

```
65535
```

#### 6.3 –ü—Ä–æ–≤–µ—Ä—è–µ–º swap

```bash
free -h
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:

* swap > 0
* –Ω–µ 0K/0K –∫–∞–∫ —Ä–∞–Ω—å—à–µ

---

### üéâ –ü–æ—Å–ª–µ —ç—Ç–∏—Ö —à–∞–≥–æ–≤ npm install –Ω–∞—á–Ω—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ

–ö–æ–≥–¥–∞ —Å–¥–µ–ª–∞–µ—à—å ‚Äî –Ω–∞–ø–∏—à–∏ –º–Ω–µ:

* –≤—ã–≤–æ–¥ `ulimit -n`
* –≤—ã–≤–æ–¥ `free -h`

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–æ—Å—å ‚Äî —è —Å—Ä–∞–∑—É –ø–æ–ø—Ä–∞–≤–ª—é.

---

## ÔøΩ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Node.js –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–µ—Ä–≤–µ—Ä–µ

‚ö†Ô∏è **–ü—Ä–æ–±–ª–µ–º–∞**: Vite —Ç—Ä–µ–±—É–µ—Ç Node.js –≤–µ—Ä—Å–∏–∏ 20.19+ –∏–ª–∏ 22.12+, –∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 18.19.1)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ Node.js
```bash
node -v
```

### –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è –º–µ–Ω—å—à–µ 20.19, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å nvm (Node Version Manager)
```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.0/install.sh | bash
```

2. –ó–∞–≥—Ä—É–∑–∏—Ç—å nvm –≤ —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é
```bash
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
```

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é nvm
```bash
nvm --version
```

4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js –≤–µ—Ä—Å–∏–∏ 22
```bash
nvm install 22
```

5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é 22
```bash
nvm use 22
```

6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é 22 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```bash
nvm alias default 22
```

7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Node.js (–¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å v22.x.x)
```bash
node -v
```

8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é npm
```bash
npm -v
```

### –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ frontend –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Node.js

9. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é frontend
```bash
cd /home/ubuntu/beauty_crm/frontend
```

10. –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
rm -rf node_modules package-lock.json
```

11. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
npm install
```

12. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
```bash
npm run build
```

13. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
```bash
sudo chown -R www-data:www-data dist/
sudo chmod -R 755 dist/
```

14. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
```bash
sudo systemctl restart beauty_crm
sudo systemctl restart nginx
```

15. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
curl -I https://mlediamant.com
```

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å Node.js –æ–±–Ω–æ–≤–ª—ë–Ω –∏ Vite –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

# üì¶ –û—Å–Ω–æ–≤–Ω–æ–π –¥–µ–ø–ª–æ–π

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh ubuntu@91.201.215.32
```

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
```bash
sudo apt update
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
```bash
sudo apt install python3 python3-pip python3-venv git nginx certbot python3-certbot-nginx net-tools curl -y
```

–°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
```bash
mkdir -p /home/ubuntu/beauty_crm
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
```bash
sudo chown -R ubuntu:ubuntu /home/ubuntu/beauty_crm
```

–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /home/ubuntu/beauty_crm
```

---

## 2. –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –° –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (Mac/Linux)

–ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ rsync –±–µ–∑ venv –∏ node_modules

1. –°–æ–∑–¥–∞–π –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É –±–µ–∑ venv –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (Mac):
```bash
rsync -av --exclude='venv' --exclude='.git' --exclude='node_modules' "/Users/tahir/Desktop/beauty-crm/" "/Users/tahir/Desktop/beauty-crm/temp_beauty_crm/"
```

2. –ó–∞–ª–µ–π –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
```bash
scp -r "/Users/tahir/Desktop/beauty-crm/temp_beauty_crm" ubuntu@91.201.215.32:/home/ubuntu/beauty_crm
```

3. –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
```bash
rm -rf "/Users/tahir/Desktop/beauty-crm/temp_beauty_crm"
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: —á–µ—Ä–µ–∑ scp

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenSSH –Ω–∞ Ubuntu (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```bash
sudo apt install openssh-client
```

–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ scp
```bash
scp -r ~/Desktop/beauty-crm ubuntu@91.201.215.32:/home/ubuntu/beauty_crm/
```

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ SSH –∫–ª—é—á–µ–π

–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö SSH –∫–ª—é—á–µ–π
```bash
ssh-keygen -R 91.201.215.32
```

---

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend (Python/FastAPI)

–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é backend
```bash
cd /home/ubuntu/beauty_crm/backend
```

–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
python3 -m venv venv
```

–ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
source venv/bin/activate
```

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ pip
```bash
pip install --upgrade pip
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞
```bash
pip install -r requirements.txt
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Gunicorn –∏ Uvicorn
```bash
pip install gunicorn uvicorn
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Gunicorn
```bash
ls venv/bin | grep gunicorn
```

–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ (Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)
```bash
venv/bin/gunicorn main:app -k uvicorn.workers.UvicornWorker -b 0.0.0.0:8000
```

---

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend (React/Vite)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ nvm (Node Version Manager)
```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.0/install.sh | bash
```

–≠–∫—Å–ø–æ—Ä—Ç NVM –≤ —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é
```bash
export NVM_DIR="$HOME/.nvm"
```

–ó–∞–≥—Ä—É–∑–∫–∞ nvm —Å–∫—Ä–∏–ø—Ç–∞
```bash
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ nvm
```bash
nvm --version
```

–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö LTS –≤–µ—Ä—Å–∏–π Node.js
```bash
nvm ls-remote --lts | tail -5
```

‚ö†Ô∏è –í–ê–ñ–ù–û: Vite —Ç—Ä–µ–±—É–µ—Ç Node.js –≤–µ—Ä—Å–∏–∏ 20.19+ –∏–ª–∏ 22.12+
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –≤–µ—Ä—Å–∏–∏ 22 (LTS)
```bash
nvm install 22
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
```bash
nvm use 22
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ—Ä—Å–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```bash
nvm alias default 22
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Node.js
```bash
node -v
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ npm
```bash
npm -v
```

–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é frontend
```bash
cd /home/ubuntu/beauty_crm/frontend
```

–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö node_modules (–µ—Å–ª–∏ –µ—Å—Ç—å)
```bash
rm -rf node_modules package-lock.json
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π frontend
```bash
npm install
```

–°–±–æ—Ä–∫–∞ frontend –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```bash
npm run build
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è dist –ø–∞–ø–∫–∏
```bash
ls -la dist/
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è dist
```bash
sudo chown -R www-data:www-data dist/
sudo chmod -R 755 dist/
```

---

## 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
```bash
sudo nano /etc/nginx/sites-available/beauty_crm.conf
```

**–°–∫–æ–ø–∏—Ä—É–π –∏ –≤—Å—Ç–∞–≤—å –≤ nano:**
```nginx
# –†–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS
server {
    listen 80;
    server_name mlediamant.com www.mlediamant.com;
    
    return 301 https://$host$request_uri;
}

# –û—Å–Ω–æ–≤–Ω–æ–π HTTPS —Å–µ—Ä–≤–µ—Ä
server {
    listen 443 ssl http2;
    server_name mlediamant.com www.mlediamant.com;

    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–ø—É—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã –∏—Ö –ø–æ–ª—É—á–∏–ª–∏)
    # –ï—Å–ª–∏ —á–µ—Ä–µ–∑ certbot/Let's Encrypt:
    ssl_certificate /etc/letsencrypt/live/mlediamant.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/mlediamant.com/privkey.pem;
    
    # SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_prefer_server_ciphers on;
    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384;

    # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π)
    location /api/ {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # ‚≠ê –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–ë–ï–ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
    location /public/ {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # ‚≠ê Instagram webhooks
    location /webhook {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # ‚≠ê –ü—Ä–æ–∫—Å–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π Instagram
    location /proxy/ {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # –°—Ç–∞—Ç–∏–∫–∞ –±—ç–∫–µ–Ω–¥–∞ (–∑–∞–≥—Ä—É–∑–∫–∏)
    location /static/ {
        alias /home/ubuntu/beauty_crm/backend/static/;
        expires 7d;
        add_header Cache-Control "public, no-transform";
    }

    # –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Å—Ç–∞—Ç–∏–∫–∞ —Å –∫—ç—à–µ–º
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff2?|ttf|eot)$ {
        root /home/ubuntu/beauty_crm/frontend/dist;
        expires 7d;
        add_header Cache-Control "public, no-transform";
    }

    # –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ - React SPA
    location / {
        root /home/ubuntu/beauty_crm/frontend/dist;
        try_files $uri /index.html;
    }
}
```

–£–¥–∞–ª–µ–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
```bash
sudo rm /etc/nginx/sites-enabled/default
```

–°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º–ª–∏–Ω–∫–∞ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
sudo ln -s /etc/nginx/sites-available/mlediamant /etc/nginx/sites-enabled/
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
```bash
sudo nginx -t
```

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
```bash
sudo chown -R ubuntu:www-data /home/ubuntu/beauty_crm/frontend/dist
sudo chmod -R 755 /home/ubuntu/beauty_crm/frontend/dist
```

–ß—Ç–æ–±—ã –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º, —á—Ç–æ Nginx –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∏:
```bash
sudo chmod 755 /home/ubuntu
sudo chmod 755 /home/ubuntu/beauty_crm
sudo chmod 755 /home/ubuntu/beauty_crm/frontend
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
```bash
sudo systemctl restart nginx
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Nginx
```bash
sudo systemctl status nginx
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
```bash
sudo ufw status
```

–†–∞–∑—Ä–µ—à–∏—Ç—å SSH –ø–æ—Ä—Ç 22
```bash
sudo ufw allow 22
```

–†–∞–∑—Ä–µ—à–∏—Ç—å HTTP –ø–æ—Ä—Ç 80
```bash
sudo ufw allow 80
```

–†–∞–∑—Ä–µ—à–∏—Ç—å HTTPS –ø–æ—Ä—Ç 443
```bash
sudo ufw allow 443
```

–í–∫–ª—é—á–∏—Ç—å —Ñ–∞–π—Ä–≤–æ–ª
```bash
sudo ufw enable
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –ø–æ—Ä—Ç 8000 —Å–ª—É—à–∞–µ—Ç—Å—è
```bash
sudo ss -tuln | grep 8000
```

---

## 6. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot –¥–ª—è Nginx
```bash
sudo apt install certbot python3-certbot-nginx -y
```

–ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–≤–≤–µ–¥–∏ email: mladiamontuae@gmail.com)
```bash
sudo certbot --nginx -d mlediamant.com -d www.mlediamant.com
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx –ø–æ—Å–ª–µ SSL
```bash
sudo nginx -t
```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Nginx
```bash
sudo systemctl reload nginx
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
curl -I https://mlediamant.com
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–π–º–µ—Ä–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
```bash
sudo systemctl status certbot.timer
```

–¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–Ω–µ –º–µ–Ω—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)
```bash
sudo certbot renew --dry-run
```

---

## 7. Systemd —Å–µ—Ä–≤–∏—Å (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫)

–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo nano /etc/systemd/system/beauty_crm.service
```

**–°–∫–æ–ø–∏—Ä—É–π –∏ –≤—Å—Ç–∞–≤—å –≤ nano:**
```ini
[Unit]
Description=Beauty CRM FastAPI with Gunicorn
After=network.target

[Service]
User=ubuntu
Group=www-data
WorkingDirectory=/home/ubuntu/beauty_crm/backend
Environment="PATH=/home/ubuntu/beauty_crm/backend/venv/bin"
ExecStart=/home/ubuntu/beauty_crm/backend/venv/bin/gunicorn \
          -w 4 \
          -k uvicorn.workers.UvicornWorker \
          main:app \
          --bind 0.0.0.0:8000 \
          --access-logfile /home/ubuntu/beauty_crm/backend/access.log \
          --error-logfile /home/ubuntu/beauty_crm/backend/error.log
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ systemd
```bash
sudo systemctl daemon-reload
```

–í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo systemctl enable beauty_crm
```

–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo systemctl start beauty_crm
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo systemctl status beauty_crm
```

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo journalctl -u beauty_crm -f
```

–ü—Ä–æ—Å–º–æ—Ç—Ä access –ª–æ–≥–æ–≤
```bash
tail -f /home/ubuntu/beauty_crm/backend/access.log
```

–ü—Ä–æ—Å–º–æ—Ç—Ä error –ª–æ–≥–æ–≤
```bash
tail -f /home/ubuntu/beauty_crm/backend/error.log
```

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –æ—à–∏–±–∫—É
```bash
cat /home/ubuntu/beauty_crm/backend/error.log
```

### –ï—Å–ª–∏ —É–¥–∞–ª—è—é –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ –∏–∑ backend –∏ frontend

–°–æ–∑–¥–∞–π –ø–∞–ø–∫—É –∏ –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã:
```bash
mkdir -p logs
touch logs/error.log
touch logs/access.log
chown -R ubuntu:ubuntu logs
```

–ü–æ—Ç–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å:
```bash
sudo systemctl daemon-reload
sudo systemctl restart beauty_crm
sudo systemctl restart nginx
sudo journalctl -u beauty_crm -f
```

---

# üõ†Ô∏è –†–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

## 8. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Backend

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo systemctl restart beauty_crm
```

–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo systemctl stop beauty_crm
```

–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo systemctl status beauty_crm
```

–õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
```bash
sudo journalctl -u beauty_crm -f --lines 50
```

### Frontend

–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é frontend
```bash
cd /home/ubuntu/beauty_crm/frontend
```

–ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ frontend
```bash
npm run build
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
```bash
sudo systemctl restart beauty_crm
```

### Nginx

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
```bash
sudo nginx -t
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
```bash
sudo systemctl restart nginx
```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Nginx (–º—è–≥–∫–∞—è)
```bash
sudo systemctl reload nginx
```

–õ–æ–≥–∏ –æ—à–∏–±–æ–∫ Nginx
```bash
sudo tail -f /var/log/nginx/error.log
```

–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞ Nginx
```bash
sudo tail -f /var/log/nginx/access.log
```

### –ü—Ä–æ—Ü–µ—Å—Å—ã

–ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å Gunicorn
```bash
ps aux | grep gunicorn
```

–ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å Uvicorn
```bash
ps aux | grep uvicorn
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ 8000
```bash
sudo ss -tuln | grep 8000
```

### Screen —Å–µ—Å—Å–∏–∏

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é screen —Å–µ—Å—Å–∏—é
```bash
screen -S beauty_crm
```

–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö screen —Å–µ—Å—Å–∏–π
```bash
screen -ls
```

–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ screen —Å–µ—Å—Å–∏—é
```bash
screen -r beauty_crm
```

### –£–¥–∞–ª–µ–Ω–∏–µ/–æ—á–∏—Å—Ç–∫–∞

–£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
```bash
rm -rf /home/ubuntu/beauty_crm
```

–£–¥–∞–ª–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```bash
rm -rf venv
```

–û—á–∏—Å—Ç–∫–∞ node_modules
```bash
rm -rf node_modules package-lock.json
```

–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
```bash
sudo systemctl stop beauty_crm
```

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

#### –ü—Ä–æ–±–ª–µ–º–∞: Permission denied –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ FTP/SFTP

–ï—Å–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ FTP/SFTP –∫–ª–∏–µ–Ω—Ç (FileZilla, Cyberduck –∏ —Ç.–¥.) –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫–∏:
- `permission denied`
- `no such file or directory`
- `mkdir: permission denied`

**–†–µ—à–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

–í–∞—Ä–∏–∞–Ω—Ç 1: –°–æ–∑–¥–∞—Ç—å/–ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É dist —Å –ø—Ä–∞–≤–∞–º–∏ ubuntu (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –ø–∞–ø–∫—É –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
sudo rm -rf /home/ubuntu/beauty_crm/frontend/dist
sudo mkdir -p /home/ubuntu/beauty_crm/frontend/dist
sudo chown -R ubuntu:ubuntu /home/ubuntu/beauty_crm/frontend/dist
sudo chmod -R 755 /home/ubuntu/beauty_crm/frontend/dist
```

–í–∞—Ä–∏–∞–Ω—Ç 2: –ï—Å–ª–∏ –ø–∞–ø–∫–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ—Å—Ç–æ –¥–∞—Ç—å –ø—Ä–∞–≤–∞ ubuntu
```bash
sudo chown -R ubuntu:ubuntu /home/ubuntu/beauty_crm/frontend/dist
sudo chmod -R 755 /home/ubuntu/beauty_crm/frontend/dist
```

–í–∞—Ä–∏–∞–Ω—Ç 2: –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–∂–µ—Ç, –¥–∞—Ç—å –ø–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞ (–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏)
```bash
sudo chmod -R 777 /home/ubuntu/beauty_crm/frontend/dist
```

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞:
```bash
sudo chown -R www-data:www-data /home/ubuntu/beauty_crm/frontend/dist
sudo chmod -R 755 /home/ubuntu/beauty_crm/frontend/dist
sudo systemctl restart nginx
```

#### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: rsync (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–í–º–µ—Å—Ç–æ FTP –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ rsync - —ç—Ç–æ –Ω–∞–¥–µ–∂–Ω–µ–µ –∏ –±—ã—Å—Ç—Ä–µ–µ:

**–í–∞—Ä–∏–∞–Ω—Ç A: –° –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (Mac):**
```bash
# 1. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ
cd ~/Desktop/beauty-crm/frontend
npm run build

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ dist –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ rsync
rsync -avz --delete dist/ ubuntu@91.201.215.32:/home/ubuntu/beauty_crm/frontend/dist/

# 3. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
ssh ubuntu@91.201.215.32 "sudo chown -R www-data:www-data /home/ubuntu/beauty_crm/frontend/dist && sudo chmod -R 755 /home/ubuntu/beauty_crm/frontend/dist && sudo systemctl restart nginx"
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –° —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –ø–æ SSH):**
```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é frontend
cd /home/ubuntu/beauty_crm/frontend

# 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã (–µ—Å–ª–∏ dist —É–∂–µ —Å–æ–±—Ä–∞–Ω)
rsync -avz --delete dist/ ubuntu@91.201.215.32:/home/ubuntu/beauty_crm/frontend/dist/

# 3. –ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞:
sudo chown -R www-data:www-data /home/ubuntu/beauty_crm/frontend/dist
sudo chmod -R 755 /home/ubuntu/beauty_crm/frontend/dist

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Nginx
sudo systemctl restart nginx

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
curl -I https://mlediamant.com
```

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ rsync:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ –Ω—É–∂–Ω—ã–µ –ø–∞–ø–∫–∏
- ‚úÖ –£–¥–∞–ª–∏—Ç —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã (`--delete`)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ FTP
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤ –≤—Ä—É—á–Ω—É—é

–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo systemctl disable beauty_crm
```

–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo rm /etc/systemd/system/beauty_crm.service
```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ systemd –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è
```bash
sudo systemctl daemon-reload
```

–ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
cd /home/ubuntu/beauty_crm/
rm -rf ./.*
rm -rf ./*
mkdir backend
mkdir frontend
```

---

## üéØ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

–ü—Ä–æ–≤–µ—Ä–∫–∞ Backend API
```bash
curl http://localhost:8000/health
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ Frontend —Å–æ–±—Ä–∞–Ω
```bash
ls -la /home/ubuntu/beauty_crm/frontend/dist/index.html
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
sudo systemctl status nginx
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω
```bash
sudo systemctl status beauty_crm
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç —Å–ª—É—à–∞–µ—Ç—Å—è
```bash
sudo ss -tuln | grep 8000
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
curl -I https://mlediamant.com
```

---

## üî• Workflow –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –õ–æ–∫–∞–ª—å–Ω–æ —Å–æ–±—Ä–∞—Ç—å frontend

–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é frontend –ª–æ–∫–∞–ª—å–Ω–æ
```bash
cd ~/Desktop/beauty-crm/frontend
```

–°–±–æ—Ä–∫–∞ frontend –ª–æ–∫–∞–ª—å–Ω–æ
```bash
npm run build
```

–ó–∞–≥—Ä—É–∑–∫–∞ dist –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
rsync -avz --delete dist/ ubuntu@91.201.215.32:/home/ubuntu/beauty_crm/frontend/dist/
```

–ó–∞–≥—Ä—É–∑–∫–∞ backend –∫–æ–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
rsync -av --exclude='venv' --exclude='node_modules' --exclude='.git' ~/Desktop/beauty-crm/backend/ ubuntu@91.201.215.32:/home/ubuntu/beauty_crm/backend/
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh ubuntu@91.201.215.32
```

–ü–µ—Ä–µ—Ö–æ–¥ –≤ backend
```bash
cd /home/ubuntu/beauty_crm/backend
```

–ê–∫—Ç–∏–≤–∞—Ü–∏—è venv
```bash
source venv/bin/activate
```

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)
```bash
pip install -r requirements.txt
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo systemctl restart beauty_crm
```

---

## ÔøΩ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### Backend (–ª–æ–∫–∞–ª—å–Ω–æ)

```bash
cd backend 
rm -rf venv
which python3
which python
unalias python 
unalias pip  
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
python3 -m pip install --upgrade pip
python3 -m uvicorn main:app --reload
```

–ò–ª–∏ –∫–æ—Ä–æ—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è:
```bash
cd backend 
source venv/bin/activate
python3 -m uvicorn main:app --reload
```

### Frontend (–ª–æ–∫–∞–ª—å–Ω–æ)

–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
cd frontend 
rm -rf node_modules package-lock.json dist
npm cache clean --force
echo "registry=https://registry.npmjs.org/
audit=false
fund=false
loglevel=warn" > .npmrc
npm install --no-audit --prefer-offline --verbose
npm run build 
npm run dev
```

–ò–ª–∏ –∫–æ—Ä–æ—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è:
```bash
cd frontend
npm run dev
```

### –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ npm

```bash
npm cache clean --force
npm install --no-audit --prefer-offline --verbose
npm run build -- --verbose=false
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Node

```bash
node -v
```

–ï—Å–ª–∏ –ø–æ–∫–∞–∂–µ—Ç v24.x.x ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–Ω–∞—è.

–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å Node 22 –≥–ª–æ–±–∞–ª—å–Ω–æ:
```bash
npm cache clean --force
nvm alias default 22
nvm use default
```

---

## üêò –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL (–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏)

–ï—Å–ª–∏ –≤ –ª–æ–≥–∞—Ö –ø–æ—è–≤–ª—è—é—Ç—Å—è –æ—à–∏–±–∫–∏ `database is locked`, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–π—Ç–∏ —Å SQLite –Ω–∞ PostgreSQL.

### –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
sudo apt update
sudo apt install postgresql postgresql-contrib -y
```

2. **–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
sudo -u postgres psql
# –í –∫–æ–Ω—Å–æ–ª–∏ psql:
CREATE DATABASE beauty_crm;
CREATE USER beauty_crm_user WITH PASSWORD '–≤–∞—à_–ø–∞—Ä–æ–ª—å';
GRANT ALL PRIVILEGES ON DATABASE beauty_crm TO beauty_crm_user;
\q
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞:**
```bash
DATABASE_TYPE=postgresql
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=beauty_crm
POSTGRES_USER=beauty_crm_user
POSTGRES_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å
```

4. **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
```bash
cd /home/ubuntu/beauty_crm/backend
source venv/bin/activate
pip install -r requirements.txt
python scripts/migrate_to_postgres.py
```

üëâ **–ü–æ–ª–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [docs/POSTGRES_MIGRATION.md](file:///Users/tahir/Desktop/beauty-crm/backend/docs/POSTGRES_MIGRATION.md)

---

## üåê –†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ (i18n)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```bash
npm install react-i18next i18next i18next-browser-languagedetector
npm install -D i18next-parser
npm install i18next-parser --save-dev
```

–ï—Å–ª–∏ –≤—ã–¥–∞–µ—Ç `npm WARN deprecated ...` ‚Äî –ø—Ä–æ—Å—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å—Ç–∞—Ä—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö.
1 moderate severity vulnerability ‚Äî –Ω–µ—Å–µ—Ä—å—ë–∑–Ω–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å, –Ω–æ –º–æ–∂–Ω–æ –ø–æ—á–∏—Å—Ç–∏—Ç—å:

```bash
npm audit fix
```

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏

–°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫–∏
```bash
npm run i18n:create
```

–î–ª—è –ø–∞—Ä—Å–µ—Ä–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º
```bash
npm run i18n:extract
```

–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
```bash
# 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–∫–æ–ø–∏—Ä—É–µ—Ç ru/* –≤–æ –≤—Å–µ —è–∑—ã–∫–∏)
npm run i18n:sync

# 2. –°–∫–∞–Ω–∏—Ä—É–µ–º –∫–æ–¥ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –∫–ª—é—á–∏
npm run i18n:extract

# 3. –°–Ω–æ–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –µ—Å–ª–∏ –ø–æ—è–≤–∏–ª–∏—Å—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
npm run i18n:sync
```

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```bash
npm run db:i18n:auto
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
```bash
npm run i18n:check
```

–ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∫–æ–º–∞–Ω–¥:
```bash
npm run db:i18n:auto
npm run i18n:extract 
npm run i18n:check
npm run i18n:sync
npm run i18n:check
```

### Python —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä—É—Å—Å–∫–∏–µ —Ñ–∞–π–ª—ã
python3 check_russian_locales.py

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
python3 sync_locales.py

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥
python3 translate_from_russian.py

# –í—Å–µ —Å—Ä–∞–∑—É
python3 check_russian_locales.py && python3 sync_locales.py && python3 translate_from_russian.py
```

–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å:

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –≤–∏–¥–∏–º—ã–º –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π
pkill -f translate_from_russian.py

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
cd /Users/tahir/Desktop/beauty-crm
python3 translate_from_russian.py
```

---

## üóëÔ∏è –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—á–∏—Å—Ç–∫–∏

1. –£–¥–∞–ª–∏—Ç—å –≤—Å–µ __pycache__ –ø–∞–ø–∫–∏
```bash
find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null
```

2. –£–¥–∞–ª–∏—Ç—å –∫—ç—à –ø–µ—Ä–µ–≤–æ–¥–æ–≤
```bash
rm -rf scripts/translations/.cache/
```

---

## üìù –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ (cron)

–î–ª—è production —Å–µ—Ä–≤–µ—Ä–∞

–û—Ç–∫—Ä—ã—Ç—å crontab
```bash
crontab -e
```

–í–≤–µ–¥–∏—Ç–µ 1 (nano - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä) –∏ –Ω–∞–∂–º–∏—Ç–µ Enter.

–®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª. –î–æ–±–∞–≤—å—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É:

```bash
# –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É (–æ—á–∏—Å—Ç–∫–∞ –∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 3:00)
0 3 * * 0 cd /path/to/beauty-crm/backend && find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null
```

---

## ÔøΩ Git –∫–æ–º–∞–Ω–¥—ã

–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π push
```bash
git push origin main --force
```

---

# üìû –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

## üìû –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–∞

- **–°–µ—Ä–≤–µ—Ä:** 91.201.215.32
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** ubuntu
- **–ü–∞—Ä–æ–ª—å:** kMJhy5pHKYiKRb2Pb2Dfm3U=
- **–î–æ–º–µ–Ω:** mlediamant.com
- **Email (SSL):** mladiamontuae@gmail.com

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

–°–∞–π—Ç –ø—Ä–æ–∫—Å–∏:
https://dashboard.webshare.io/12112026/proxy/list?authenticationMethod=%22username_password%22&connectionMethod=%22direct%22&proxyControl=%220%22&rowsPerPage=10&page=0&order=%22asc%22&orderBy=null&searchValue=%22%22&removeType=%22refresh_all%22

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–≤–æ–π –ø—Ä–æ–µ–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
- **HTTP:** http://mlediamant.com
- **HTTPS:** https://mlediamant.com
- **API Docs:** https://mlediamant.com/docs
- **Health Check:** https://mlediamant.com/health

üéâ **CRM —Å–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞!**